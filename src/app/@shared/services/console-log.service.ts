import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class ConsoleLogService {
  public environment: any = false;
  public readonly logo = `<svg xmlns="http://www.w3.org/2000/svg" width="232" height="64" fill="none"><path d="M64.515 55.28c0-.01-.005-.016-.01-.02l-.156-.258a1.579 1.579 0 00-.06-.096l-1.174-2.007-15.414-26.321-5.247-8.954-1.921 3.274v.026h-.02l-3.311 5.649-7.198 12.294 5.247 8.954 7.203-12.284 8.617 14.705c0 .005.006.005.006.01.04.06.085.126.115.197a1.68 1.68 0 01-1.49 2.446H38.22l5.337 9.1h16.985c2.498 0 4.52-2.036 4.52-4.553 0-.783-.201-1.52-.547-2.163z" fill="#F9AC00"/><path d="M20.864 52.894a1.68 1.68 0 01-1.47-2.486c.026-.05.056-.09.08-.141v-.005l1.436-2.44 1.92-3.28v-.005l3.326-5.675 1.922-3.28 7.203-12.288 1.39-2.37 3.857-6.584V5.38h.24a1.682 1.682 0 001.68-1.687c0-.935-.752-1.693-1.68-1.693h-10.98a1.69 1.69 0 00-1.189.495 1.695 1.695 0 00-.491 1.198c0 .935.752 1.687 1.68 1.687h.24v8.96l-7.192 12.289v.005l-1.921 3.28-3.326 5.674-1.921 3.28L7.44 52.893l-1.254 2.133a4.588 4.588 0 00-.687 2.42C5.5 59.96 7.521 62 10.02 62h33.537l-5.337-9.1H20.864v-.006z" fill="url(#paint0_linear)"/><path d="M77.612 18.867c.356-.177.797-.263 1.329-.263h2.112c.406 0 .702.137.898.405.195.267.326.566.396.889l.23 2.031c.322-.48.693-.94 1.11-1.384a6.62 6.62 0 011.494-1.173 7.99 7.99 0 012.026-.813c.773-.202 1.676-.308 2.71-.308.972 0 1.86.096 2.653.283.792.192 1.51.47 2.152.844a7.87 7.87 0 011.735 1.374c.517.54.983 1.167 1.4 1.87a6.779 6.779 0 011.36-1.82 8.44 8.44 0 011.975-1.404c.748-.39 1.565-.688 2.458-.9a11.991 11.991 0 012.779-.318c1.646 0 3.09.303 4.339.904a8.85 8.85 0 013.125 2.486c.838 1.052 1.465 2.285 1.891 3.684.427 1.405.637 2.906.637 4.508v14.047c0 .505-.12.89-.356 1.147-.236.258-.577.39-1.023.39h-3.18c-.557 0-.928-.107-1.119-.314-.19-.212-.281-.581-.281-1.117V29.782c0-.743-.105-1.466-.316-2.168a5.325 5.325 0 00-.973-1.865 4.911 4.911 0 00-1.65-1.303c-.662-.329-1.455-.495-2.373-.495-.767 0-1.48.136-2.132.409a4.815 4.815 0 00-1.695 1.177 5.576 5.576 0 00-1.119 1.85c-.27.722-.401 1.53-.401 2.415v14.032c0 1.01-.451 1.516-1.36 1.516h-3.2c-.556 0-.928-.106-1.108-.313-.18-.212-.271-.581-.271-1.117V29.802c0-.728-.1-1.44-.301-2.137a5.534 5.534 0 00-.943-1.865 4.74 4.74 0 00-1.64-1.324c-.668-.334-1.465-.505-2.383-.505a5.27 5.27 0 00-1.921.369 5.75 5.75 0 00-1.746 1.06 5.524 5.524 0 00-1.284 1.704c-.336.672-.507 1.44-.522 2.294v14.71c0 .363-.12.661-.356.894-.236.232-.537.348-.898.348h-3.45c-.462 0-.798-.106-1.014-.328-.216-.218-.326-.53-.326-.94V19.847c0-.48.175-.803.532-.98zM121.758 11.616a.94.94 0 01.251-.652c.166-.182.402-.273.708-.273h4.148a.98.98 0 01.657.243c.186.162.281.389.281.682V39.58h13.087a.89.89 0 01.647.262c.181.177.271.41.271.708v3.855a.97.97 0 01-.251.662.852.852 0 01-.667.283h-18.214c-.612 0-.918-.308-.918-.925v-32.81zM171.559 44.107c0 .253-.051.46-.156.622a1.127 1.127 0 01-.406.379 1.69 1.69 0 01-.577.187 4.19 4.19 0 01-.677.05h-2.614c-.446 0-.757-.121-.928-.359-.175-.237-.301-.54-.386-.904l-.125-1.789c-.487.49-1.029.95-1.621 1.38-.591.43-1.228.798-1.911 1.116-.682.319-1.409.561-2.172.738-.767.177-1.555.263-2.362.263-1.254 0-2.463-.167-3.627-.495a13.914 13.914 0 01-3.27-1.39 13.335 13.335 0 01-2.769-2.158 14.052 14.052 0 01-2.132-2.799 14.127 14.127 0 01-1.38-3.305 13.77 13.77 0 01-.491-3.683c0-1.279.165-2.507.491-3.684a13.947 13.947 0 011.38-3.305 13.706 13.706 0 012.132-2.79 13.462 13.462 0 012.769-2.147 13.914 13.914 0 013.27-1.39 13.291 13.291 0 013.627-.494c.893 0 1.74.096 2.548.283a10.359 10.359 0 014.224 2.041 12.28 12.28 0 011.63 1.592l.291-2.254c.07-.253.135-.46.2-.622.066-.161.141-.293.231-.389a.704.704 0 01.346-.202 2.2 2.2 0 01.522-.05h2.092c.22 0 .446.02.667.066.22.04.426.11.607.202.18.09.326.217.426.379.1.161.156.363.156.6v24.311h-.005zm-21.74-12.152c0 1.121.195 2.188.587 3.188a8.303 8.303 0 001.63 2.643 7.767 7.767 0 002.458 1.799c.943.44 1.966.662 3.085.662a7.645 7.645 0 003.165-.662 8.177 8.177 0 002.563-1.8 8.636 8.636 0 001.716-2.642 8.254 8.254 0 00.627-3.189 8.19 8.19 0 00-.627-3.168 8.456 8.456 0 00-1.716-2.643 8.23 8.23 0 00-2.563-1.809 7.512 7.512 0 00-3.165-.671c-1.114 0-2.142.222-3.085.671a7.955 7.955 0 00-2.458 1.81 8.36 8.36 0 00-1.63 2.642 8.542 8.542 0 00-.587 3.168zM182.514 44.087c-.126.42-.261.738-.407.95-.145.212-.426.318-.847.318h-3.155c-.878 0-1.32-.42-1.32-1.263V11.924c0-.364.126-.667.376-.904.251-.238.537-.36.858-.36h3.451c.417 0 .748.122.983.37.236.247.357.546.357.894v9.667a11.731 11.731 0 013.461-2.486c1.304-.617 2.799-.925 4.484-.925 1.881 0 3.637.364 5.257 1.086a13.33 13.33 0 014.244 2.961 13.683 13.683 0 012.834 4.392c.682 1.677 1.023 3.476 1.023 5.401 0 1.91-.341 3.704-1.023 5.382a13.683 13.683 0 01-2.834 4.39 13.412 13.412 0 01-4.244 2.962c-1.625.723-3.376 1.086-5.257 1.086-.822 0-1.61-.09-2.362-.273a11.406 11.406 0 01-4.063-1.874c-.592-.435-1.134-.9-1.621-1.39l-.195 1.784zm15.72-12.067a8.718 8.718 0 00-.587-3.178 8.398 8.398 0 00-1.63-2.663 8.092 8.092 0 00-2.468-1.834 7.01 7.01 0 00-3.075-.682 7.402 7.402 0 00-3.145.682 8.379 8.379 0 00-2.573 1.834 8.487 8.487 0 00-1.726 2.663 8.279 8.279 0 00-.627 3.178v.147a7.913 7.913 0 00.667 3.128 8.575 8.575 0 001.736 2.572 8.124 8.124 0 002.538 1.748c.968.43 2.012.642 3.125.642a7.3 7.3 0 003.075-.652 7.818 7.818 0 002.468-1.769 8.046 8.046 0 001.63-2.622 8.62 8.62 0 00.592-3.194zM211.071 37.811c.29.465.662.864 1.108 1.203.447.338.903.616 1.369.833.467.218.913.374 1.34.475.426.096.762.147 1.013.147.391 0 .848-.04 1.379-.126a5.461 5.461 0 001.495-.455c.467-.218.863-.51 1.194-.884.326-.374.492-.844.492-1.42 0-.561-.131-1.016-.387-1.37a3.041 3.041 0 00-1.043-.874 7.594 7.594 0 00-1.505-.581c-.567-.157-1.158-.323-1.785-.505-1.465-.395-2.709-.87-3.743-1.42-1.033-.556-1.881-1.188-2.538-1.905-.662-.718-1.148-1.501-1.454-2.36a8.25 8.25 0 01-.462-2.8c0-1.136.221-2.177.667-3.117a7.067 7.067 0 011.881-2.42c.808-.673 1.781-1.198 2.915-1.567 1.133-.374 2.392-.556 3.772-.556.978 0 1.846.086 2.613.263.768.177 1.475.44 2.132.788a8.937 8.937 0 011.851 1.33 20.067 20.067 0 011.766 1.874c.21.252.316.5.316.738 0 .252-.141.49-.417.717-.21.167-.456.38-.742.632s-.567.5-.848.738a8.852 8.852 0 01-.792.61c-.251.168-.462.254-.627.254-.306 0-.607-.182-.898-.546a9.918 9.918 0 00-.918-.96 4.501 4.501 0 00-2.052-1.071 5.624 5.624 0 00-1.274-.137c-.376 0-.772.056-1.179.167a3.94 3.94 0 00-1.128.505 3.298 3.298 0 00-.858.809 1.768 1.768 0 00-.346 1.066c0 .45.14.834.426 1.147a3.89 3.89 0 001.084.823c.436.233.913.425 1.429.582.517.156.994.293 1.44.419 1.279.364 2.458.788 3.526 1.263 1.074.48 1.992 1.056 2.764 1.738a7.307 7.307 0 011.806 2.4c.431.92.647 1.997.647 3.235 0 1.303-.256 2.476-.772 3.506a7.65 7.65 0 01-2.137 2.623c-.908.718-1.987 1.263-3.231 1.642-1.244.38-2.598.571-4.063.571-.878 0-1.77-.096-2.673-.283a11.165 11.165 0 01-2.604-.884c-.827-.4-1.595-.915-2.302-1.536a8.336 8.336 0 01-1.766-2.224c-.21-.348-.316-.666-.316-.95 0-.181.045-.338.136-.474.09-.132.21-.263.366-.39l2.342-1.814c.211-.126.397-.187.567-.187.196 0 .371.066.522.203.155.11.321.293.502.515z" fill="#1F2937"/><defs><linearGradient id="paint0_linear" x1="19.192" y1="60.986" x2="50.408" y2="8.535" gradientUnits="userSpaceOnUse"><stop stop-color="#D7294E"/><stop offset=".1" stop-color="#DE3A43"/><stop offset=".32" stop-color="#ED592E"/><stop offset=".442" stop-color="#F26526"/><stop offset="1" stop-color="#F9AC00"/></linearGradient></defs></svg>`;

  public readonly svgDataLogo = `data:image/svg+xml;base64,${btoa(this.logo)}`;

  public readonly messageType: any = {
    info: {
      icon: `<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info-circle" class="svg-inline--fa fa-info-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#ffffff" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path></svg>`,
      bgColor: '#392CC3',
    },
    warn: {
      icon: `<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exclamation-triangle" class="svg-inline--fa fa-exclamation-triangle fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="white" d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"></path></svg>`,
      bgColor: '#D4C00C',
    },
    error: {
      icon: `<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" class="svg-inline--fa fa-times-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"></path></svg>`,
      bgColor: '#E82B11',
    },
    log: {
      icon: `<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check-circle" class="svg-inline--fa fa-check-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"></path></svg>`,
      bgColor: '#1BA753',
    },
  };

  constructor() {
    // this.showLogo();
  }

  putSvgBg(icon: any) {
    return `data:image/svg+xml;base64,${btoa(icon)}`;
  }

  /**
   *
   */
  showLogo() {
    console.log(
      '%c ',
      `
      background-image: url(${this.putSvgBg(this.logo)});
      padding: 48px;
      background-size: contain;
      background-position: center center;
      background-repeat: no-repeat;
    `
    );
  }

  /**
   *  Mostrar mensagem do tipo Info
   * @param message string | Mensagem que vai ser mostrada no console
   * @author Luigi Oliveira <luigijordanio@gmail.com>
   */
  info(message: string) {
    this.showMessage(message, 'info');
  }

  /**
   *  Mostrar mensagem do tipo Error
   * @param message string | Mensagem que vai ser mostrada no console
   * @author Luigi Oliveira <luigijordanio@gmail.com>
   */
  error(message: string) {
    this.showMessage(message, 'error');
  }

  /**
   *  Mostrar mensagem do tipo Success
   * @param message string | Mensagem que vai ser mostrada no console
   * @author Luigi Oliveira <luigijordanio@gmail.com>
   */
  success(message: string) {
    this.showMessage(message, 'log');
  }

  /**
   *  Mostrar mensagem do tipo Success
   * @param message string | Mensagem que vai ser mostrada no console
   * @author Luigi Oliveira <luigijordanio@gmail.com>
   */
  warning(message: string) {
    this.showMessage(message, 'warn');
  }

  /**
   *  Mostrar mensagem
   * @param message string | Mensagem que vai ser mostrada no console
   * @author Luigi Oliveira <luigijordanio@gmail.com>
   */
  showMessage(message: string, messageType: string) {
    const icon = this.putSvgBg(this.messageType[messageType].icon);
    const bg = this.messageType[messageType].bgColor;

    const cssStyle = `
    background-color:${bg} !important;
    background-image: url(${icon});
    background-size:16px;
    background-repeat:no-repeat;
    padding: 8px;
    background-position-y:center;
    background-position-x:8px;
    padding-left:24px;
    font-family:Arial;
    font-size:16px;
    border-radius:4px;
    margin:8px;
    color:#fff`;

    if (!this.environment.production) {
      if (messageType === 'info' || messageType === 'log') {
        console = console as any;
        console.groupCollapsed(`%c ${message}`, cssStyle);

        console.trace();
        console.groupEnd();

      } else {
        // @ts-ignore
        console[`${messageType}`](`%c ${message}`, cssStyle);
      }
    }
  }
}
